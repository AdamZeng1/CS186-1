<!doctype html>
<html lang="en">
<head>
    <!-- Basic -->
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="robots" content="index, follow, archive" />
    <meta name="referrer" content="always" />

    <!-- Content -->
    <meta name="description" property="description"
          content="" />
    <meta name="author" content="Vikram Sreekanti" />

    <title>week 11</title>

    <!-- Includes -->
        <!-- Javascripts -->
<script type="text/javascript"
        src="includes/katex/build/katex/katex.min.js"></script>

<!-- Stylesheets -->
<link media="all" rel="stylesheet" type="text/css"
      href="includes/katex/build/katex/katex.min.css" />

<!-- Configure -->
<script>var readyStateCheckInterval=setInterval(function(){if(document.readyState==="complete"){var e=document.getElementsByClassName("equation");Array.prototype.forEach.call(e,function(e){katex.render("\\displaystyle{"+e.getAttribute("data-expr")+"}",e)});clearInterval(readyStateCheckInterval)}},10)</script>
        <!-- Javascripts -->
<script type="text/javascript"
        src="includes/jquery/dist/jquery.min.js"></script>
<script type="text/javascript"
        src="includes/d3/d3.min.js"></script>
<script type="text/javascript"
        src="includes/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript"
        src="includes/metrics-graphics/js/metricsgraphics.min.js"></script>

<!-- Stylesheets -->
<link media="all" rel="stylesheet" type="text/css"
      href="includes/bootstrap/dist/css/bootstrap.css" />
<link media="all" rel="stylesheet" type="text/css"
      href="includes/metrics-graphics/css/metricsgraphics.css" />
<link media="all" rel="stylesheet" type="text/css"
      href="includes/metrics-graphics/css/metricsgraphics-demo.css" />
        <!-- Javascripts -->
<script type="text/javascript"
        src="includes/prism/prism.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-bash.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-c.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-css.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-go.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-java.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-javascript.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-markup.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-perl.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-php.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-python.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-ruby.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-scala.min.js"></script>
<script type="text/javascript"
        src="includes/prism/components/prism-sql.min.js"></script>

<!-- Stylesheets -->
<link media="all" rel="stylesheet" type="text/css"
      href="includes/prism/themes/prism-okaidia.css" />
</head>
<body>
    <article id="presentation">
        <section >
            <h1 id="week-11-transactions">Week 11: Transactions</h1>
<p>GSI: Vikram Sreekanti</p>
        </section>
        <section >
            <h2 id="transactions-are-a-sequence-of-reads-and-writes-of-database-objects-that-must-commit-or-abort-as-an-atomic-unit"><strong>Transactions</strong> are a sequence of reads and writes of database objects that must commit or abort as an atomic unit.</h2>
        </section>
        <section >
            <h3 id="in-a-database-we-want-to-maintain-the-following-properties">In a database, we want to maintain the following properties:</h3>

<h1 id="atomicity"><strong>A</strong>tomicity</h1>

<h1 id="consistency"><strong>C</strong>onsistency</h1>

<h1 id="isolation"><strong>I</strong>solation</h1>

<h1 id="durability"><strong>D</strong>urability</h1>
        </section>
        <section >
            <h2 id="atomicity"><strong>A</strong>tomicity</h2>
<p>Executes all actions in a transaction or none of them.</p>
        </section>
        <section >
            <h2 id="durability"><strong>D</strong>urability</h2>
<p>Effects of committed transactions must survive failures.</p>
        </section>
        <section >
            <h2 id="consistency"><strong>C</strong>onsistency</h2>
<p>Preserve integrity constraints</p>
        </section>
        <section >
            <h2 id="isolation"><strong>I</strong>solation</h2>
<p>Concurrent accesses have no effect on a transaction behavior and the net effect must be identical to executing all transactions in some serial order.</p>
        </section>
        <section >
            <h1 id="conflict-serializable-schedules-smallisolationsmall"><strong>Conflict Serializable Schedules</strong> <small>(Isolation)</small></h1>
<p>A subset of all schedules that are <em>conflict equivalent</em>.</p>
        </section>
        <section >
            <h3 id="conflict-equivalent-schedules-involve-same-actions-of-the-same-transactions-and-every-pair-of-conflicting-actions-is-ordered-the-same-way"><strong>Conflict equivalent</strong> schedules involve same actions of the same transactions, and every pair of conflicting actions is ordered the same way.</h3>
        </section>
        <section >
            <h3 id="conflicting-actions-are-actions-that"><strong>Conflicting actions</strong> are actions that</h3>

<ol>
  <li>
    <h4 id="are-from-different-transactions">are from different transactions</h4>
  </li>
  <li>
    <h4 id="are-on-the-same-object">are on the same object</h4>
  </li>
  <li>
    <h4 id="contain-at-least-one-write">contain at least one write</h4>
  </li>
</ol>
        </section>
        <section >
            <h3 id="a-schedule-is-conflict-serializable-if-it-is-conflict-equivalent-to-some-serial-schedule">A schedule is <strong>conflict serializable</strong> if it is conflict equivalent to some <em>serial schedule</em>.</h3>
        </section>
        <section >
            <h3 id="a-schedule-is-conflict-serializable-iff-its-dependency-graph-is-acyclic">A schedule is conflict serializable iff its dependency graph is acyclic.</h3>

<ul>
  <li>
    <h4 id="one-node-per-transaction">One node per transaction</h4>
  </li>
  <li>
    <h4 id="edge-from-ti-to-tj">edge from T_i to T_j</h4>
    <ul>
      <li>if operation in T_i conflicts with an operation in T_j.</li>
      <li>if the operation in T_i appears earlier in the schedule than the operation in T_j</li>
    </ul>
  </li>
</ul>
        </section>
        <section >
            <h3 id="all-this-definition-stuff-is-just-to-identify-a-conflict-serializable-schedule">All this definition stuff is just <strong>to identify</strong> a conflict serializable schedule.</h3>
        </section>
        <section >
            <h3 id="we-havent-said-anything-about-how-to-go-about-building-one-of-these-schedules">We haven’t said anything about <strong>how</strong> to go about building one of these schedules.</h3>
        </section>
        <section >
            <h1 id="locking"><strong>Locking</strong></h1>

<p>This is how we’re going to get a conflict serializable schedule with a locking manager.</p>
        </section>
        <section >
            <h1 id="one-method-2-phase-locking-2-pl">One method: <strong>2 Phase Locking (2-PL)</strong></h1>

<ul>
  <li>
    <h4 id="transaction-must-obtain-a-s-shared-lock-before-reading">transaction must obtain a “S” (shared) lock before reading</h4>
  </li>
  <li>
    <h4 id="transaction-must-obtain-an-x-exclusive-lock-before-writing">transaction must obtain an “X” (exclusive) lock before writing</h4>
  </li>
  <li>
    <h4 id="transaction-can-not-get-a-new-lock-after-releasing-any-locks">transaction can not get a new lock after releasing any locks</h4>
  </li>
</ul>

<p>It’s cool but doesn’t prevent cascading aborts. (See lecture)</p>
        </section>
        <section >
            <h2 id="another-method-strict-2-phase-locking">Another method: <strong>Strict 2 Phase Locking</strong></h2>

<ul>
  <li>
    <h4 id="same-as-2-pl--but">Same as 2-PL … but</h4>
  </li>
  <li>
    <h4 id="release-locks-only-when-transaction-commits-or-aborts-finishes">Release locks only when transaction commits or aborts (finishes)</h4>
  </li>
</ul>
        </section>
        <section >
            <ul>
  <li>
    <h4 id="prevents-cascading-aborts">Prevents cascading aborts</h4>
  </li>
  <li>
    <h4 id="produces-conflict-serializable-schedules">Produces conflict serializable schedules</h4>
  </li>
</ul>
        </section>
        <section >
            <h2 id="but-doesnt-prevent-deadlocks">But doesn’t prevent deadlocks.</h2>

<p>See lecture on how to resolve these (prevention versus avoidance).</p>
        </section>
    </article>

    <!-- Stylesheets -->
    <link media="all" rel="stylesheet" type="text/css"
          href="stylesheets/main.css" />

    <!-- Javascripts -->
    <script type="text/javascript" src="javascripts/main.js"></script>
    <script>hyhyhy.from('#presentation', { bullets: "ol li, .bullet", hash: true, keys: true, fullscreen: true, progress: true, scale: true, state: true, touch: true });</script>
</body>
</html>